<ion-header>
    <ion-toolbar color='primary'>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title style="text-align: left !important">Tribes</ion-title>
        <ion-buttons slot="end" (click)="navigateToaddtribe()">
            <ion-button fill="clear">
                <ion-icon name="add"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-segment color="purple" [(ngModel)]="inviteFT">
    <ion-segment-button value="mytribes">
        <ion-label>
            My Tribes
        </ion-label>
    </ion-segment-button>
    <ion-segment-button value="joined">
        <ion-label>
            Joined Tribes
        </ion-label>
    </ion-segment-button>
    <ion-segment-button value="leaderboard">
        <ion-label>
            Leaderboard
        </ion-label>
    </ion-segment-button>
</ion-segment>
<ion-content>
    <div [ngSwitch]="inviteFT" class="col-md-12 col-sm-12 col-xs-12">
        <div *ngSwitchCase="'mytribes'">
            <div *ngFor="let t of tribes">
                <div class="cycling-runners">
                    <img class="img-responsive" [src]="t.Image" alt="" width="380" height="240" />
                    <div class="Race">
                        <span>{{t.Name}}</span>
                        <b (click)="goToTribe(t.TribeID)"> View</b>
                    </div>
                </div>
                <div class="shadow-box">
                    <ion-row class="topMargin">
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">
                                    <a href="#!">
                                        <i class="fas fa-calendar-alt"></i>
                                        {{t.CreateDate | date: 'dd, MMMM yyyy'}}
                                    </a>
                                </div>
                            </div>
                        </ion-col>
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">&nbsp;</div>
                            </div>
                        </ion-col>
                    </ion-row>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <div *ngSwitchCase="'joined'">
            <div *ngFor="let j of joined">
                <div class="cycling-runners">
                    <img class="img-responsive" [src]="j.Image" alt="" width="380" height="240" />
                    <div class="Race">
                        <span>{{j.Name}}</span>
                        <b (click)="goToTribe(j.TribeID)"> View</b>
                    </div>
                </div>
                <div class="shadow-box">
                    <ion-row class="topMargin">
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">
                                    <a href="#!">
                                        <i class="fas fa-calendar-alt"></i>
                                        {{j.CreateDate | date: 'dd, MMMM yyyy'}}
                                    </a>
                                </div>
                            </div>
                        </ion-col>
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">&nbsp;</div>
                            </div>
                        </ion-col>
                    </ion-row>
                    <div class="clearfix"></div>
                </div>
            </div>

        </div>
        <div *ngSwitchCase="'leaderboard'">
            <ion-row>
                <ion-col>
                    <div class="middle-box">
                        <select 
                        class="mdb-select md-form colorful-select dropdown-primary" 
                        (change)="selectNew()" 
                        [(ngModel)]="filterRegion">
                        <option value="-1">All </option>
                        <option *ngFor="let r of regions">{{r.TypeName}}</option>                         
                      </select>
                    </div>
                </ion-col>
            </ion-row>
            <div *ngFor="let t of tribes">
                <div class="cycling-runners">
                    <img class="img-responsive" [src]="t.Image" alt="" width="380" height="240" />
                    <div class="Race">
                        <span>{{t.Name}}</span>
                        <b (click)="goToTribe(t.TribeID)"> View</b>
                    </div>
                </div>
                <div class="shadow-box">
                    <ion-row class="topMargin">
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">
                                    <a href="#!">
                                        <i class="fas fa-calendar-alt"></i>
                                        {{t.CreateDate | date: 'dd, MMMM yyyy'}}
                                    </a>
                                </div>
                            </div>
                        </ion-col>
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">&nbsp;</div>
                            </div>
                        </ion-col>
                    </ion-row>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <div *ngSwitchDefault>
            <div *ngFor="let t of tribes">
                <div class="cycling-runners">
                    <img class="img-responsive" [src]="t.Image" alt="" width="380" height="240" />
                    <div class="Race">
                        <span>{{t.Name}}</span>
                        <b (click)="goToTribe(t.TribeID)"> View</b>
                    </div>
                </div>
                <div class="shadow-box">
                    <ion-row class="topMargin">
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">
                                    <a href="#!">
                                        <i class="fas fa-calendar-alt"></i>
                                        {{t.CreateDate | date: 'dd, MMMM yyyy'}}
                                    </a>
                                </div>
                            </div>
                        </ion-col>
                        <ion-col>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="calendar">&nbsp;</div>
                            </div>
                        </ion-col>
                    </ion-row>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <ion-row>
        <ion-col>
            <div style="margin-top:35vh">
                <div *ngIf="tribes.length==0 && !loading" class="col-md-6 col-sm-6 col-xs-6 ion-text-center">
                    <h6 class="msg">
                        There are no Tribes at the moment, create the first one.
                    </h6>
                    <p>
                        <ion-button expand="block" fill="outline" (click)="createTribe()">
                            Create Tribe
                        </ion-button>
                    </p>
                </div>
                <h4 class="msg" *ngIf="loading">
                    <ion-spinner color="purple" *ngIf="loading" name="crescent"></ion-spinner>
                </h4>
            </div>
        </ion-col>
    </ion-row>

</ion-content>